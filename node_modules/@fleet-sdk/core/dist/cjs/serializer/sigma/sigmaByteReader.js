"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SigmaByteReader = void 0;
const common_1 = require("@fleet-sdk/common");
const utils_1 = require("@noble/hashes/utils");
const vlq_1 = require("../vlq");
const zigZag_1 = require("../zigZag");
class SigmaByteReader {
    _bytes;
    _cursor;
    get isEmpty() {
        return (0, common_1.isEmpty)(this._bytes);
    }
    constructor(bytes) {
        if (typeof bytes === "string") {
            this._bytes = (0, utils_1.hexToBytes)(bytes);
        }
        else {
            this._bytes = bytes;
        }
        this._cursor = 0;
    }
    readBoolean() {
        return this.readByte() === 0x01;
    }
    readByte() {
        return this._bytes[this._cursor++];
    }
    readType() {
        return this.readByte();
    }
    readNumber() {
        return Number((0, zigZag_1.zigZagDecode)((0, vlq_1.vlqDecode)(this)));
    }
    readLong() {
        return (0, zigZag_1.zigZagDecodeBigInt)((0, vlq_1.vlqDecodeBigInt)(this));
    }
}
exports.SigmaByteReader = SigmaByteReader;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbWFCeXRlUmVhZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3NlcmlhbGl6ZXIvc2lnbWEvc2lnbWFCeXRlUmVhZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDhDQUF1RDtBQUN2RCwrQ0FBaUQ7QUFDakQsZ0NBQW9EO0FBQ3BELHNDQUE2RDtBQUc3RCxNQUFhLGVBQWU7SUFDbEIsTUFBTSxDQUFjO0lBQ3BCLE9BQU8sQ0FBVTtJQUV6QixJQUFXLE9BQU87UUFDaEIsT0FBTyxJQUFBLGdCQUFPLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCxZQUFZLEtBQTZCO1FBQ3ZDLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1lBQzdCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBQSxrQkFBVSxFQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2pDO2FBQU07WUFDTCxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztTQUNyQjtRQUVELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFFTSxXQUFXO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLElBQUksQ0FBQztJQUNsQyxDQUFDO0lBRU0sUUFBUTtRQUNiLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRU0sUUFBUTtRQUNiLE9BQU8sSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFTSxVQUFVO1FBQ2YsT0FBTyxNQUFNLENBQUMsSUFBQSxxQkFBWSxFQUFDLElBQUEsZUFBUyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRU0sUUFBUTtRQUNiLE9BQU8sSUFBQSwyQkFBa0IsRUFBQyxJQUFBLHFCQUFlLEVBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNuRCxDQUFDO0NBQ0Y7QUFyQ0QsMENBcUNDIn0=