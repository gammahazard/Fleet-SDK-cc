"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SParse = exports.SConstant = exports.MAX_CONSTANT_LENGTH = exports.MAX_CONSTANT_CONTENT_LENGTH = exports.MAX_CONSTANT_TYPES_LENGTH = void 0;
const dataSerializer_1 = require("./dataSerializer");
const sigmaByteReader_1 = require("./sigmaByteReader");
const sigmaByteWriter_1 = require("./sigmaByteWriter");
const typeSerializer_1 = require("./typeSerializer");
exports.MAX_CONSTANT_TYPES_LENGTH = 100;
exports.MAX_CONSTANT_CONTENT_LENGTH = 4096;
exports.MAX_CONSTANT_LENGTH = exports.MAX_CONSTANT_TYPES_LENGTH + exports.MAX_CONSTANT_CONTENT_LENGTH;
function SConstant(content) {
    const writer = new sigmaByteWriter_1.SigmaByteWriter(exports.MAX_CONSTANT_LENGTH);
    typeSerializer_1.TypeSerializer.serialize(content, writer);
    dataSerializer_1.DataSerializer.serialize(content, writer);
    return writer.toHex();
}
exports.SConstant = SConstant;
function SParse(content) {
    const reader = new sigmaByteReader_1.SigmaByteReader(content);
    const type = reader.readType();
    return dataSerializer_1.DataSerializer.deserialize(type, reader);
}
exports.SParse = SParse;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRTZXJpYWxpemVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3NlcmlhbGl6ZXIvc2lnbWEvY29uc3RhbnRTZXJpYWxpemVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHFEQUFrRDtBQUNsRCx1REFBb0Q7QUFDcEQsdURBQW9EO0FBRXBELHFEQUFrRDtBQUVyQyxRQUFBLHlCQUF5QixHQUFHLEdBQUcsQ0FBQztBQUNoQyxRQUFBLDJCQUEyQixHQUFHLElBQUksQ0FBQztBQUNuQyxRQUFBLG1CQUFtQixHQUFHLGlDQUF5QixHQUFHLG1DQUEyQixDQUFDO0FBRTNGLFNBQWdCLFNBQVMsQ0FBQyxPQUFtQjtJQUMzQyxNQUFNLE1BQU0sR0FBRyxJQUFJLGlDQUFlLENBQUMsMkJBQW1CLENBQUMsQ0FBQztJQUV4RCwrQkFBYyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDMUMsK0JBQWMsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRTFDLE9BQU8sTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ3hCLENBQUM7QUFQRCw4QkFPQztBQUVELFNBQWdCLE1BQU0sQ0FBSSxPQUErQjtJQUN2RCxNQUFNLE1BQU0sR0FBRyxJQUFJLGlDQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDNUMsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBRS9CLE9BQU8sK0JBQWMsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBTSxDQUFDO0FBQ3ZELENBQUM7QUFMRCx3QkFLQyJ9