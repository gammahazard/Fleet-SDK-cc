import { ErgoBox } from "./ergoBox";
export class ErgoUnsignedInput extends ErgoBox {
    _extension;
    get extension() {
        return this._extension;
    }
    constructor(box) {
        super(box);
    }
    setContextVars(extension) {
        this._extension = extension;
        return this;
    }
    toUnsignedInputObject(type) {
        return {
            ...this.toObject(type),
            extension: this._extension || {}
        };
    }
    toObject(type) {
        if (type === "EIP-12") {
            return {
                boxId: this.boxId,
                value: this.value.toString(),
                ergoTree: this.ergoTree,
                creationHeight: this.creationHeight,
                assets: this.assets.map((asset) => ({
                    tokenId: asset.tokenId,
                    amount: asset.amount.toString()
                })),
                additionalRegisters: this.additionalRegisters,
                transactionId: this.transactionId,
                index: this.index
            };
        }
        else {
            return {
                boxId: this.boxId
            };
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJnb1Vuc2lnbmVkSW5wdXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbW9kZWxzL2VyZ29VbnNpZ25lZElucHV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVVBLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFLcEMsTUFBTSxPQUFPLGlCQUFrQixTQUFRLE9BQU87SUFDcEMsVUFBVSxDQUFvQjtJQUV0QyxJQUFXLFNBQVM7UUFDbEIsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxZQUFZLEdBQWdCO1FBQzFCLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNiLENBQUM7SUFFTSxjQUFjLENBQUMsU0FBMkI7UUFDL0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFFNUIsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRU0scUJBQXFCLENBQTRCLElBQU87UUFDN0QsT0FBTztZQUNMLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7WUFDdEIsU0FBUyxFQUFFLElBQUksQ0FBQyxVQUFVLElBQUksRUFBRTtTQUNqQixDQUFDO0lBQ3BCLENBQUM7SUFFTSxRQUFRLENBQTRCLElBQU87UUFDaEQsSUFBSSxJQUFJLEtBQUssUUFBUSxFQUFFO1lBQ3JCLE9BQU87Z0JBQ0wsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO2dCQUNqQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7Z0JBQzVCLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtnQkFDdkIsY0FBYyxFQUFFLElBQUksQ0FBQyxjQUFjO2dCQUNuQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7b0JBQ2xDLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTztvQkFDdEIsTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFO2lCQUNoQyxDQUFDLENBQUM7Z0JBQ0gsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLG1CQUFtQjtnQkFDN0MsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhO2dCQUNqQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7YUFDRSxDQUFDO1NBQ3ZCO2FBQU07WUFDTCxPQUFPO2dCQUNMLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSzthQUNFLENBQUM7U0FDdkI7SUFDSCxDQUFDO0NBQ0YifQ==